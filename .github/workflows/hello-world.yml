name: Parallel Jobs and Merge Outputs

on:
  workflow_dispatch:

jobs:
  job1:
    runs-on: ubuntu-latest
    outputs:
      value1: ${{ steps.step1.outputs.value1 }}
    steps:
      - name: Generate value1
        id: step1
        run: echo "value1=Hello from Job1" >> "$GITHUB_OUTPUT"

  job2:
    runs-on: ubuntu-latest
    outputs:
      value2: ${{ steps.step2.outputs.value2 }}
    steps:
      - name: Generate value2
        id: step2
        run: echo "value2=Hello from Job2" >> "$GITHUB_OUTPUT"

  job3:
    runs-on: ubuntu-latest
    needs:
      - job1
      - job2  # 👈 needsに複数指定すると「全部完了後にスタート」する！
    steps:
      - name: Combine values
        run: |
          echo "From job1: ${{ needs.job1.outputs.value1 }}"
          echo "From job2: ${{ needs.job2.outputs.value2 }}"
